<div class="user-list">

  <!-- Search filter -->
  <div class="user-list__filter">
    <app-ui-search (searchChange)="onSearchChange($event)" />
  </div>

  <!-- Users table -->
  @if (paginatedUsers$ | async; as paginatedUsers) {
    @if (paginatedUsers.length > 0) {
      <app-user-table
        [users]="paginatedUsers"
        [isLoading]="isLoading"
      />

      <!-- Pagination -->
      @if (paginationInfo$ | async; as paginationInfo) {
        @if (paginationInfo.totalPages > 1) {
          <app-ui-paginator
            [paginationInfo]="paginationInfo"
            (previousPage)="onPreviousPage()"
            (nextPage)="onNextPage()"
          />
        }
      }
    } @else {
      <div class="user-list__empty">
        <p>No users found</p>
      </div>
    }
  }
</div>

